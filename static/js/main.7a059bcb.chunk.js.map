{"version":3,"sources":["components/Title.jsx","components/QueryBox.jsx","components/Stats.jsx","components/PageButton.jsx","components/Pagination.jsx","components/User.jsx","components/UserList.jsx","components/Results.jsx","components/App.jsx","index.js"],"names":["Title","props","className","title","QueryBox","useState","query","setQuery","filterUsers","useRef","current","console","log","handler","userList","filter","user","name","first","last","toLowerCase","includes","useEffect","htmlFor","type","placeholder","value","onChange","evt","target","onClick","preventDefault","Stats","male","users","gender","length","female","age","reduce","acc","dob","average","toFixed","isNaN","PageButton","useContext","PageContext","page","setPage","style","visibility","Pagination","triedValue","Number","parseInt","Math","floor","onBlur","User","src","picture","thumbnail","alt","React","createContext","UserList","Provider","slice","map","idx","memo","Results","App","setUsers","allUsers","setAllUsers","loaded","setLoaded","fetch","then","res","json","data","results","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.7a059bcb.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Title(props){\r\n  return (<h1 className=\"title\">{props.title}</h1>)\r\n}\r\n\r\nexport default Title;","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nfunction QueryBox(props){\r\n  const [query, setQuery] = useState('');\r\n  const filterUsers = useRef();\r\n  \r\n  filterUsers.current=()=>{\r\n    console.log(\"filtering...\")\r\n    if (query===''){\r\n      props.handler([])\r\n      return\r\n    }\r\n    props?.handler(\r\n      props.userList?.filter(\r\n        user=>\r\n        (user.name.first+' '+user.name.last)\r\n        .toLowerCase()\r\n        .includes(query.toLowerCase())))\r\n  }\r\n\r\n  useEffect(()=>{\r\n    filterUsers.current()\r\n  },[query,filterUsers])\r\n\r\n  function handleButton(evt){\r\n    evt.preventDefault()\r\n  }\r\n  function handleChange(evt){\r\n    setQuery(evt.target.value);\r\n  }\r\n\r\n  return (\r\n  <div className=\"query-box\">\r\n    <form>\r\n      <label htmlFor=\"search-box\">Busca</label>\r\n      <input type=\"text\"\r\n             className=\"search-box\"\r\n             placeholder=\"Digite aqui sua busca\"\r\n             value={query}\r\n             onChange={handleChange}\r\n             />\r\n      <button className=\"submit-btn\" onClick={handleButton}>Buscar</button>\r\n    </form>\r\n  </div>)\r\n}\r\n\r\nexport default QueryBox;","import React from \"react\";\r\n\r\nfunction Stats(props){\r\n  let male = props.users.filter(user=>user.gender==='male').length,\r\n  female = props.users.length-male,\r\n  age = props.users.reduce((acc,user)=>acc+user.dob.age,0),\r\n  average=(age/props.users.length).toFixed(2);\r\n\r\n  return (\r\n  <div className=\"container stats\">\r\n        <h2>Estatísticas</h2>\r\n        <ul className=\"stat-list\">\r\n          <li>Sexo Masculino: {male}</li>\r\n          <li>Sexo Feminino: {female}</li>\r\n          <li>Soma das idades: {age}</li>\r\n          <li>Média das idades: {isNaN(average) ? 0:average}</li>\r\n        </ul>\r\n      </div>)\r\n}\r\n\r\nexport default Stats;","import React, { useContext } from \"react\";\r\nimport {PageContext} from \"./UserList\"\r\n\r\nfunction PageButton(props){\r\n  const {page, setPage, length} = useContext(PageContext);\r\n  if (props.type===\"prev\"){\r\n    return(\r\n      <button style={page?{}:{visibility:\"hidden\"}} onClick={()=>setPage(page=>page-1)}>\r\n        <i className=\"fas fa-backward\"/>\r\n      </button>\r\n    )\r\n  }else if(props.type===\"next\"){\r\n    return (\r\n    <button style={\r\n      (length)/((page+1)*50)>=1\r\n      ? {}\r\n      : {visibility:\"hidden\"}}\r\n      onClick={()=>setPage(page=>page+1)}>\r\n      <i className=\"fas fa-forward\"/>\r\n    </button>)\r\n  }\r\n}\r\n\r\nexport default PageButton;","import React, { useContext } from \"react\"\r\nimport {PageContext} from \"./UserList\"\r\nimport PageButton from \"./PageButton\"\r\n\r\nfunction Pagination(props){\r\n\r\n  const {page, setPage, length} = useContext(PageContext);\r\n\r\n  function handleChange(evt){\r\n    setPage(page=>parseInt(evt.target.value-1))\r\n  }\r\n\r\n  function validateChange(evt){\r\n    const triedValue = Number.parseInt(evt.target.value);\r\n    if(triedValue>0 && !isNaN(triedValue)){\r\n      if ((length/(triedValue*50))>=1){\r\n        setPage(triedValue-1);\r\n      }else{\r\n        evt.target.value=Math.floor((length/(50))+1)\r\n        setPage(evt.target.value-1)\r\n      }\r\n    }else{\r\n      evt.target.value=1\r\n      setPage(evt.target.value-1)\r\n      \r\n    }\r\n\r\n  }\r\n  \r\n  return(\r\n      <div className=\"page-btn-container\">\r\n        <PageButton type=\"prev\"/>\r\n        <input type=\"text\" onChange={validateChange} onBlur={handleChange} value={page+1} />\r\n        <PageButton type=\"next\"/>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\n\r\nfunction User(props){\r\n  return (\r\n        <li>\r\n          <img src={props.user.picture.thumbnail} alt=\"avatar\" className=\"avatar\"/>\r\n          <p>{props.user.name.first} {props.user.name.last}, {props.user.dob.age}</p>\r\n        </li>\r\n      )\r\n}\r\n\r\nexport default User;","import React, { useEffect, useState } from \"react\";\r\nimport Pagination from \"./Pagination\";\r\nimport User from \"./User\";\r\n\r\nexport let PageContext= React.createContext({\r\n  page:0,\r\n  setPage:()=>{},\r\n  length:0\r\n})\r\n\r\nfunction UserList(props){\r\n  \r\n  const [page, setPage] = useState(0);\r\n  useEffect(()=>{\r\n    setPage(0);\r\n  },[props.users])\r\n\r\n  return (\r\n        <div className=\"container\">\r\n          <h2 className=\"found\">\r\n            <span className=\"total\">{props.users?.length??'0'}</span> Usuário(s) encontrado(s)\r\n          </h2>\r\n          <PageContext.Provider value={{page, setPage, length:props.users?.length}}>\r\n          {props.users?.length ? <Pagination />:\"\"}\r\n          </PageContext.Provider>\r\n          <ul className=\"user-list\">\r\n            {props.users?.slice(page*50,page*50+50).map((user,idx)=><User key={idx} user={user} />)}\r\n          </ul>\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default React.memo(UserList);","import React from \"react\";\r\nimport Stats from \"./Stats\";\r\nimport UserList from \"./UserList\";\r\n\r\nfunction Results(props){\r\n  return (\r\n  <div className=\"bottom\">\r\n        <UserList users={props.users}/>\r\n        <Stats users={props.users}/>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Results;","import React, { useEffect, useState } from \"react\";\r\nimport Title from \"./Title\"\r\nimport QueryBox from \"./QueryBox\"\r\nimport Results from \"./Results\"\r\n\r\n\r\nconst App = (props)=>{\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    if(!loaded){\r\n      // fetch(\"http://localhost:3001/users\").then(\r\n      fetch(\"https://randomuser.me/api/?results=5000\").then(\r\n        res=>res.json().then(\r\n          data=>{\r\n            setAllUsers(data.results);\r\n            setLoaded(true)\r\n            console.log(data.results)\r\n          }\r\n        )\r\n      )\r\n    }\r\n  // eslint-disable-next-line\r\n  },[])\r\n\r\n  return (\r\n    <>\r\n      <Title title=\"Pesquisa de Usuários\"/>\r\n      <QueryBox userList={allUsers} handler={setUsers}/>\r\n      <Results users ={users}/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\"\r\n\r\nReactDOM.render(<App />,\r\n   document.querySelector(\"#root\")\r\n   );\r\n"],"sourceRoot":""}